$(document).ready(function(){$("#login_form").submit(function(e){e.preventDefault(),$.ajax({url:"users/login",type:"POST",data:{username:$("#username").val(),password:$("#password").val()},success:function(e){"failed"==e?alert("Nom d'utilisateur et/ou mot de passe incorrect."):(alert("Connexion réussie."),window.location.href="home/index")}})}),$("#register_form").submit(function(e){e.preventDefault(),$.ajax({url:"users/register",type:"POST",data:{username:$("#username").val(),email:$("#email").val(),password:$("#password").val()},success:function(e){"exists"==e?alert("Cet utilisateur existe déjà."):"succeed"==e?(alert("Inscription réussie."),window.location.href="home/index"):alert("Une erreur s'est produite.")}})}),$("#add_post_form").submit(function(e){e.preventDefault(),$.ajax({url:"posts/add_post",type:"POST",data:new FormData(this),contentType:!1,cache:!1,processData:!1,success:function(e){"failed"==e?alert("Cet article existe déjà."):(alert("Nouvel article ajouté avec succès."),window.location.href="dashboard/posts")}})}),$("#edit_post_form").submit(function(e){e.preventDefault();var t=$(this).attr("action"),r=t.split("/");$.ajax({url:t,type:"POST",data:new FormData(this),contentType:!1,cache:!1,processData:!1,success:function(e){"failed"==e?alert("Cet article existe déjà."):(alert("L'article a été modifié avec succès."),window.location.href="dashboard/posts/"+r[3])}})}),$("#delete_post").click(function(e){e.preventDefault(),window.confirm("Etes-vous sûr de vouloir supprimer cet article?")&&(window.location.href=$(this).attr("href"))}),$("#delete_user").click(function(e){e.preventDefault(),window.confirm("Etes-vous sûr de vouloir supprimer cet utilisateur?")&&(window.location.href=$(this).attr("href"))}),$("#delete_comment").click(function(e){e.preventDefault(),window.confirm("Etes-vous sûr de vouloir supprimer ce commentaire?")&&(window.location.href=$(this).attr("href"))}),$("#delete_tag").click(function(e){e.preventDefault(),window.confirm("Etes-vous sûr de vouloir supprimer ce tag?")&&(window.location.href=$(this).attr("href"))})});